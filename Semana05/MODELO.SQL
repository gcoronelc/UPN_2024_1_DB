
CREATE TABLE CURSO
( 
	IDCURSO              integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKCURSO PRIMARY KEY (IDCURSO ASC)
)
go



CREATE TABLE PROFESOR
( 
	IDPROFESOR           integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKPROFESOR PRIMARY KEY (IDPROFESOR ASC)
)
go



CREATE TABLE PROGRAMACION
( 
	IDPROG               integer IDENTITY ( 1,1 ) ,
	IDCURSO              integer  NOT NULL ,
	IDPROFESOR           integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	VACANTES             integer  NOT NULL ,
	MATRICULADOS         integer  NOT NULL ,
	HORARIO              varchar(50)  NOT NULL ,
	CONSTRAINT XPKPROGRAMACION PRIMARY KEY (IDPROG ASC),
	CONSTRAINT FK_PROGRAMACION_CURSO FOREIGN KEY (IDCURSO) REFERENCES CURSO(IDCURSO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_PROGRAMACION_PROFESOR FOREIGN KEY (IDPROFESOR) REFERENCES PROFESOR(IDPROFESOR)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE ESTUDIANTE
( 
	IDESTUDIANTE         integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(100)  NOT NULL ,
	CONSTRAINT XPKESTUDIANTE PRIMARY KEY (IDESTUDIANTE ASC)
)
go



CREATE TABLE MATRICULA
( 
	IDPROG               integer  NOT NULL ,
	IDESTUDIANTE         integer  NOT NULL ,
	NOTA                 integer  NULL ,
	CONSTRAINT XPKMATRICULA PRIMARY KEY (IDPROG ASC,IDESTUDIANTE ASC),
	CONSTRAINT R_3 FOREIGN KEY (IDPROG) REFERENCES PROGRAMACION(IDPROG)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT R_4 FOREIGN KEY (IDESTUDIANTE) REFERENCES ESTUDIANTE(IDESTUDIANTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


